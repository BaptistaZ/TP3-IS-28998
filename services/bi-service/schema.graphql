type Doc {
  id: Int!
  mapperVersion: String!
  createdAt: String!
}

type Incident {
  docId: Int!
  incidentId: String!
  source: String
  incidentType: String
  severity: String
  status: String
  city: String
  country: String
  continent: String
  lat: Float
  lon: Float
  accuracyM: Float
  reportedAt: String
  validatedAt: String
  resolvedAt: String
  lastUpdateUtc: String
  assignedUnit: String
  resourcesCount: Float
  etaMin: Float
  responseTimeMin: Float
  estimatedCostEur: Float
  riskScore: Float
}

type AggByTypeRow {
  incidentType: String!
  totalIncidents: Int!
  avgRiskScore: Float
  totalEstimatedCostEur: Float
}

type AggBySeverityRow {
  severity: String!
  totalIncidents: Int!
  avgRiskScore: Float
}

type Query {
  health: String!

  docs(limit: Int = 10): [Doc!]!

  incidents(
    docId: Int
    type: String
    severity: String
    status: String
    country: String
    limit: Int = 50
  ): [Incident!]!

  aggByType: [AggByTypeRow!]!
  aggBySeverity: [AggBySeverityRow!]!
}
